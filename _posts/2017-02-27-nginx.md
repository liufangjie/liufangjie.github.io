---
layout: post
title: nginx
---
{{page.title}}
===============

# 代理静态资源

location ^~ /resource/ {
    alias ../../project/projectname/src/main/webapp/_resource/;
}


location ^~ /resource/ {
    root ../../project/projectname/src/main/webapp/;
}

使用alias可以将resource映射为其他目录，路劲要使用相对路基，nginx不支持而配置绝对路径

注意root和alias的区别

root，"/resource/img/123.png"最终访问目录全路径为$nginx_home/../../project/projectname/src/main/webapp/resource/img/123.png;

即文件会把root对应的目录作为根目录

alias, "/resource/img/123.png"最终访问目录全路径为$nginx_home/../../project/projectname/src/main/webapp/resource/img/123.png;

即文件目录/resource/会被替换为$nginx_home/../../project/projectname/src/main/webapp/resource/;

由此可以得出结论，root映射只能映射到同名目录，但是alias可以映射到非同名目录，可以实现将/resource/映射到/_resource/目录下

